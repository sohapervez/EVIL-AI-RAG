FROM chromadb/chroma:1.5.0

USER 0

# Create data directory with OpenShift-compatible permissions
RUN mkdir -p /data && \
    chgrp -R 0 /data && \
    chmod -R g=u /data

USER 1000

CMD ["run", "--path", "/data", "--host", "0.0.0.0", "--port", "8000"]
